
public class Selectkesimo {
	
	public static int selectKesimo(int[] v, int k){
		return selectRec(v,0,v.length-1,k);
	}
	
	private static int selectRec(int[] v, int first, int last, int k){
		
		if(last <= first){
			return v[first];
		}
		
		int p = ordenarPivote(v,first,last);
		int k1 = p - first + 1;
		
		if(k <= k1)
			return selectRec(v,first,p,k);
		else
			return selectRec(v,p+1,last,k-k1);
	}
	
	private static int ordenarPivote(int[] v, int first, int last){
		
		int p=v[first]; int i = first-1; int j = last+1;
		while (true){
			do{i++;}while (v[i]<p);
			do{j--;}while (v[j]>p);
			if(i<j){
				int aux=v[i]; v[i]=v[j]; v[j]=aux;
			}else{
				return j;
			}
		}
	}

}

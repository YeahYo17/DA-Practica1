
public class Heapsort {

    private static int total;

    private static void swap(int[] v, int a, int b)
    {
        int tmp = v[a];
        v[a] = v[b];
        v[b] = tmp;
    }

    private static void heapify(int[] v, int i)
    {
        int lft = i * 2;
        int rgt = lft + 1;
        int grt = i;

        if (lft <= total && v[lft] > v[grt]) grt = lft;
        if (rgt <= total && v[rgt] > v[grt]) grt = rgt;
        if (grt != i) {
            swap(v, i, grt);
            heapify(v, grt);
        }
    }

    public static void heapSort(int[] v)
    {
        total = v.length - 1;

        for (int i = total / 2; i >= 0; i--)
            heapify(v, i);

        for (int i = total; i > 0; i--) {
            swap(v, 0, i);
            total--;
            heapify(v, 0);
        }
    }
    
}
